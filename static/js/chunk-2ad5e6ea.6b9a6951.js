(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ad5e6ea"],{"7ca9":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"account-main-cont"},[a("el-col",{staticClass:"account-cont",attrs:{xs:24,sm:10,md:8,lg:8}},[a("el-col",{staticClass:"xrp-logo",attrs:{xs:12,sm:12,md:12,lg:12}}),a("el-col",{staticStyle:{"font-size":"35px","font-weight":"bolder"},attrs:{xs:12,sm:12,md:12,lg:12}},[t._v(" "+t._s(t.totalXrp)+" ")]),a("el-col",{staticStyle:{"font-size":"20px"},attrs:{xs:12,sm:12,md:12,lg:12}},[t._v(" = "+t._s(t.totalInUsd)+" ")])],1)],1),a("el-row",{staticClass:"account-main-cont",staticStyle:{"margin-top":"10px"}},[a("el-button",{staticClass:"refresh-button",attrs:{type:"primary"},on:{click:function(e){return t.reloadBalance()}}},[t._v("RELOAD BALANCE")])],1),a("el-col",{staticClass:"account-cont account-main-cont"},[a("el-col",{staticClass:"el-comp",attrs:{xs:24,sm:8,md:6}},[a("el-input",{attrs:{placeholder:"Account Name"},model:{value:t.accountNameField,callback:function(e){t.accountNameField=e},expression:"accountNameField"}})],1),a("el-col",{staticClass:"el-comp",attrs:{xs:24,sm:8,md:6}},[a("el-input",{attrs:{placeholder:"Address"},model:{value:t.addressField,callback:function(e){t.addressField=e},expression:"addressField"}})],1),a("el-col",{staticClass:"el-comp",attrs:{xs:24,sm:4,md:2}},[a("el-button",{staticClass:"account-button",attrs:{type:"primary",xs:24,sm:12},on:{click:function(e){return t.addNewAccount()}}},[t._v("ADD")])],1)],1),a("el-row",{staticClass:"account-cont",staticStyle:{width:"100%",border:"0 !important"}},[a("el-collapse",{attrs:{accordion:""}},t._l(t.accountsList,(function(e){return a("el-collapse-item",{key:e.address,attrs:{title:e.accountName,name:e.accountName}},[a("el-row",{staticClass:"account-item"},[a("label",[t._v("ADDRESS:")]),t._v(" "+t._s(e.address)+" ")]),a("el-row",{staticClass:"account-item"},[a("label",[t._v("BALANCE:")]),t._v(" "+t._s(t.toCurrency(e.totalBalance))+" XRP ")]),a("el-row",{staticClass:"account-item"},[a("label",[t._v("TOKENS")])]),a("el-row",{staticClass:"account-item"},[a("div",{staticClass:"tag-cont"},t._l(e.balances,(function(e){return a("el-tag",{key:e.currency,staticClass:"trustline-items",attrs:{name:e.currency}},[a("span",{staticClass:"currency-label"},[t._v(t._s(t.decodeCurrency(e.currency)))]),t._v(" : "+t._s(t.toCurrency(e.value))+" "+t._s("XRP"===e.currency?"":"("+t.toCurrency(e.balanceInXrp)+" XRP)")+" ")])})),1)])],1)})),1)],1)],1)},c=[];a("d3b7"),a("25f0"),a("4de4"),a("d81d"),a("c35a"),a("a9e3");function s(t){return fetch("https://api.xrpscan.com/api/v1/account/"+t)}function o(t){return"https://data.ripple.com/v2/accounts/"+t+"/balances"}function r(t){return"https://data.ripple.com/v2/exchange_rates/"+t}function l(){return fetch("https://api.coingecko.com/api/v3/simple/price?ids=ripple&vs_currencies=usd")}var i=a("bc3a"),u=a.n(i),d={data:function(){return{accountNameField:null,addressField:null,accountsList:[],tokens:[],tokenRates:[],soloTokenFetched:[],totalXrp:"Fetching...",totalInUsd:"Fetching..."}},created:function(){this.loadAccounts()},mounted:function(){},methods:{reloadBalance:function(){this.loadAccounts()},toCurrency:function(t){return(Math.round(100*t)/100).toLocaleString()},convertHexToText:function(t){for(var e=t.toString(),a="",n=0;n<e.length;n+=2)a+=String.fromCharCode(parseInt(e.substr(n,2),16));return a.substring(0,a.indexOf("\0"))},decodeCurrency:function(t){return t.length>3?this.convertHexToText(t):t},validateNewAccountInput:function(t){var e=this;null!=this.accountNameField&&this.ifStringNotWhitespace(this.accountNameField)&&null!=this.addressField&&this.ifStringNotWhitespace(this.addressField)?s(this.addressField).then((function(t){return t.json()})).then((function(a){if(!a.account)return e.$msgbox("ADDRESS NOT FOUND"),t(!1),!1;if(null!=localStorage.getItem("accounts")){var n=JSON.parse(localStorage.getItem("accounts")),c=n.filter((function(t){return t.address==e.addressField})),s=n.filter((function(t){return t.accountName.toLowerCase()==e.accountNameField.toLowerCase()}));c.length>0?(e.$msgbox("ADDRESS EXISTS"),t(!1)):s.length>0?(e.$msgbox("ACCOUNT NAME EXISTS"),t(!1)):t(!0)}else t(!0)})):(e.$msgbox("INVALID INPUT"),t(!1))},ifStringNotWhitespace:function(t){return/\S/.test(t)},addNewAccount:function(){var t=this,e={accountName:this.accountNameField,address:this.addressField};this.validateNewAccountInput((function(a){if(1==a){var n=JSON.stringify(e);if(null==localStorage.getItem("accounts"))localStorage.setItem("accounts","["+n+"]"),console.log("Initiated accounts");else{var c=JSON.parse(localStorage.getItem("accounts"));c.push(e),localStorage.setItem("accounts",JSON.stringify(c))}t.$message("Account added!"),t.loadAccounts(),t.accountNameField=null,t.addressField=null}t.loadAccounts()}))},addToTokens:function(t,e){this.tokens.push({currencyCode:t,issuerAddress:e})},loadAccounts:function(){this.totalXrp="Fetching...",this.totalInUsd="Fetching...";var t=this,e=JSON.parse(localStorage.getItem("accounts")),a=[],n=0,c=0;if(l().then((function(t){return t.json()})).then((function(t){c=t.ripple.usd})),null!=e){this.accountsList=e;var s=this.accountsList.map((function(t){return u.a.get(o(t.address))}));u.a.all(s).then(u.a.spread((function(){for(var e=arguments.length,n=new Array(e),c=0;c<e;c++)n[c]=arguments[c];var s=n.map((function(e,a){return{accountName:t.accountsList[a].accountName,address:t.accountsList[a].address,balances:e.data.balances}}));a=s}))).catch((function(t){console.log(t)})).finally((function(){a.map((function(e){var a=0;return e.balances.map((function(e){var n=e.currency,c=e.counterparty;"XRP"===n?a=e.value:t.addToTokens(n,c)})),e.xrpBalance=a,e}));var e=t.tokens.map((function(t){return u.a.get(r(t.currencyCode+"+"+t.issuerAddress+"/XRP"))}));u.a.all(e).then(u.a.spread((function(){for(var e=arguments.length,c=new Array(e),s=0;s<e;s++)c[s]=arguments[s];c.map((function(e,a){t.tokens[a].rate=e.data.rate,t.tokenRates[t.tokens[a].currencyCode]=t.tokens[a]}));var o=a.map((function(e){var a=0;e.balances.map((function(e){var n=e.currency,c=Number.parseFloat(e.value);if("XRP"===n)a+=c;else{var s=Number.parseFloat(t.tokenRates[n].rate),o=e.value*s;e.balanceInXrp=o,a+=o}return e}));return e.totalBalance=a,e}));o.map((function(t){n+=t.totalBalance}))}))).catch((function(t){console.log(t)})).finally((function(){t.totalXrp=t.toCurrency(n)+" XRP",t.totalInUsd=t.toCurrency(n*c)+" USD",t.accountsList=a}))}))}}}},m=d,p=(a("d425"),a("2877")),f=Object(p["a"])(m,n,c,!1,null,null,null);e["default"]=f.exports},af2e:function(t,e,a){},d425:function(t,e,a){"use strict";a("af2e")}}]);